{% extends "base.html" %}

{% block title %}{{ page.title }} - {{ super() }}{% endblock %}

{% block main %}
<main class="content-landing">
    {% if components|length > 0 %}
        <div class="landing-sections">
            {% set_global skip_next = false %}
            {% for component in components %}
                {% if skip_next %}
                    {% set_global skip_next = false %}
                {% elif component.template == "left" %}
                    {% set next_index = loop.index %}
                    {% set next_comp = components[next_index] | default(value=false) %}
                    <section class="landing-section split-section">
                        <div class="split-left">
                            {{ render_component(component=component) | safe }}
                        </div>
                        <div class="split-right">
                            {% if next_comp %}
                                {{ render_component(component=next_comp) | safe }}
                                {% set_global skip_next = true %}
                            {% endif %}
                        </div>
                    </section>
                {% elif component.template == "hero" or component.template == "hero_booking" %}
                    <!-- Hero components render full-width without wrapper -->
                    {{ render_component(component=component) | safe }}
                {% else %}
                    <section class="landing-section">
                        <div class="landing-section-inner">
                            {{ render_component(component=component) | safe }}
                        </div>
                    </section>
                {% endif %}
            {% endfor %}
        </div>
    {% else %}
        <!-- Empty state -->
        <div class="empty-landing">
            <p>Add components to build your landing page.</p>
        </div>
    {% endif %}
</main>
{% endblock %}